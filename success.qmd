---
title: Payment Successful
format: html
---

<!-- Replace iframe in success.qmd -->
<div id="book-generator">
  <form id="book-form">
    <input type="text" id="title" placeholder="Book Title" required />
    <input type="text" id="author" placeholder="Author" required />
    <textarea id="book_idea" placeholder="Book Idea" required></textarea>
    <button type="submit">Generate Book</button>
  </form>
  <div id="results"></div>
</div>

<script>
document.getElementById('book-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  
  const formData = {
    title: document.getElementById('title').value,
    author: document.getElementById('author').value,
    book_idea: document.getElementById('book_idea').value
  };
  
  try {
    const response = await fetch('/.netlify/functions/hal9-direct', {
      method: 'POST',
      body: JSON.stringify(formData)
    });
    
    const result = await response.json();
    document.getElementById('results').innerHTML = 
      `<pre>${JSON.stringify(result, null, 2)}</pre>`;
  } catch (error) {
    console.error('Error:', error);
  }
});
</script>

[Return to Home](index.html)